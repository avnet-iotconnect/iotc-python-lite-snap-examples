# SPDX-License-Identifier: MIT
# Copyright (C) 2024 Avnet
# Authors: Michael Lamp <nmichael.lamp@avnet.com> et al.

<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>IoTConnect Manager</title>
  <link rel="stylesheet" href="../base1/cockpit.css">
  <script src="../base1/cockpit.js"></script>
</head>
<body class="pf-c-page pf-m-redhat-font">
  <main class="pf-c-page__main">
    <section class="pf-c-card pf-u-p-md">
      <h1>IoTConnect Manager</h1>

      <div style="display:flex;gap:1rem;align-items:center;margin:8px 0">
        <button id="btn-scan" type="button" class="pf-c-button pf-m-secondary">Scan I/O</button>
        <button id="btn-test" type="button" class="pf-c-button pf-m-secondary">Test Send</button>
        <label>Interval (sec): <input id="interval" type="number" min="2" value="10" style="width:6rem"></label>
        <button id="btn-start" type="button" class="pf-c-button pf-m-primary">Start</button>
        <button id="btn-stop"  type="button" class="pf-c-button pf-m-secondary">Stop</button>
        <input id="tmpl-code"  type="text" placeholder="Template code (e.g. bb400_iotc)">
        <input id="tmpl-name"  type="text" placeholder="Template name (e.g. BB-400 IOTC)">
        <button id="btn-gen-template">Generate Template</button>
        <input id="mb-ip"     placeholder="ED-589 IP (e.g. 192.168.0.100)">
        <input id="mb-unit"   placeholder="Unit"    value="1" size="3">
        <input id="mb-start"  placeholder="Start"   value="30001" size="6">
        <input id="mb-count"  placeholder="Count"   value="8" size="4">
        <input id="mb-scale"  placeholder="Scale"   value="1" size="4">
        <input id="mb-offset" placeholder="Offset"  value="0" size="4">
        <button id="btn-scan-ai">Scan Modbus AI</button>
      </div>

      <table class="pf-c-table pf-m-grid-md" role="grid" style="width:100%">
        <thead>
          <tr><th>Select</th><th>Source Key</th><th>Alias (sent to cloud)</th><th>Sample Value</th></tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>

      <pre id="log" style="height:220px;overflow:auto;margin-top:1rem"></pre>
    </section>
  </main>
  <script defer src="manager.js?v=6"></script>
</body>
</html>
